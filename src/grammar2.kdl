("group")â¦…gâ¦† |=(or)"|" set="ã€”set-â ã€•" r#"set+â "# Â¬â§µâ€œ=r#"ã€”^\"ã€•"#  /* \/;*=â§µâ„ï¼›âˆ—  "=â€œorâ€ newline=â¤ 'empty'=âˆ… ignore unquoted ; " */
document;	bom?; version?; nodes

#Nodes                            	\
nodes=""    ;â¦…lineâ *â €nodeâ¦†*â €lineâ *	\
base_node="";â„-?â €type?â €nodeâ *â €string
  â¦…nodeâ +â €â €â €â„-?â €node_argâˆ¨propâ¦†*	// slashdashed node_children must be after props and args
  â¦…nodeâ +â €â €â €â„-â €â €node_childrenâ €â €â €â¦†*
  â¦…nodeâ +â €â €â €â €â €â €â €node_childrenâ €â €â €â¦†?
  â¦…nodeâ +â €â €â €â„-â €â €node_childrenâ €â €â €â¦†*
  â €nodeâ *     	                         	\
node="";      	base_nodeâ €node_terminator	\
final_node="";	base_nodeâ €node_terminator?

#Entries           	                                                   	\
node_argâˆ¨prop="";  	prop|value                                         	\
node_children=""   	"{"; nodesâ €final_node? "}"                         	\
node_terminator="";	single_line_commentâ €|â €â¤â €|â €ï¼›â €|â €eof                  	\
\                  	                                                   	//
prop="";           	stringâ €nodeâ * "="; nodeâ *â €value                    	\
value="";          	type?â €â €nodeâ *â €â €â €â €â €â €â €â €â €â €â €â¦…stringâ €|â €numberâ €|â €keywordâ¦†	\
type=""            	"(";â €â €â €nodeâ *â €â €â €â €â €â €â €â €â €â €â €â €stringâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €nodeâ * ")"

#Strings                      	                                                 	\
string="";                    	  strğŸ†”â €|â €string_quotedâ €|â €string_rawâ €â €Â¶           	\
  strğŸ†”="";                    	unambiguousğŸ†”â €|â €signedğŸ†”â €|â €dottedğŸ†”                 	\
    unambiguousğŸ†”="";          	     â¦…â¦…charğŸ†”â €-â €digitâ €-â €Â±â €-â €.â¦†â €charğŸ†”*â¦†â €-â €keywordğŸ†”ğŸ›‘	\
    signedğŸ†”="";               	Â±â €â €â €â €â¦…â¦…charğŸ†”â €-â €digitâ €â €â €â €â €-â €.â¦†â €charğŸ†”*â¦†?           	\
    dottedğŸ†”="";               	Â±?â €.â €â¦…â¦…charğŸ†”â €-â €digitâ €â €â €â €â €â €â €â €â¦†â €charğŸ†”*â¦†?           	\
    charğŸ†”="";                 	ucharâ €-â €uâ â €-â €â¤â €-â €charğŸ†”Â¬â €-â €charğŸ›‘                  	\
    charğŸ†”Â¬="";                	r#"(){}[]"/\;#="#                                	\
    keywordğŸ†”ğŸ›‘="";             	 trueâ €|â €falseâ €|â €nullâ €|â €infâ €|â €-infâ €|â €nan          	\
  string_quoted="";           	  â€œâ €â €â €â €â €â €string_body_lineâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â€         	\
    ;                         	|â €â€œâ€œâ€œâ €â €â¤â €string_bodyâ˜°lineâ €â €â¤â €â¦…uâ |wsâ‹â¦†*â €â €â€â€â€      	\
    string_body_line="";      	â¦…â €â €â €â €â €â €â €â €â €â €â €â €char_strâ €â €â €â €-â €â¤â¦†*â €â €â €â €â €              	\
    string_bodyâ˜°line="";      	â¦…â¦…â€œ|â€œâ€œâ¦†?â €â €â €â €â €â €â €char_strâ €â €â €â €â €â €â¦†*â €                 	\
    char_str="";              	 charâ‹â €|â €uniâ‹â €|â €wsâ‹â €|â €ã€”Â¬â§µâ€œã€•â €-â €charğŸ›‘              	\
      charâ‹="";               	 â§µâ €â€œâ§µbfnrts                                      	\
      uniâ‹="";                	 â§µ "u{"; hex_digit*1â€“6 "}"                       	\
      wsâ‹="";                 	 â§µâ €â¦…uâ |â¤â¦†+                                       	\
    hex_digit="";             	 ã€”0-9a-fA-Fã€•                                     	\
\                             	                                                 	//
  string_raw="";              	  #â €â €â €â €â €string_raw_quotedâ €â €â €â €â €â €â €â €â €â €â €#â €           	\
      ;                       	|â €#â €â €â €â €â €string_rawâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €#â €           	\
    string_raw_quoted="";     	  â€œâ €â €â €â €â €string_raw_body_lineâ €â €â €â €â €â €â €â €â €â€           	\
      ;                       	|â €â€œâ€œâ€œâ €â¤â €string_raw_bodyâ˜°lineâ €â¤â €uâ *â €â€â€â€           	\
      string_raw_body_line="";	  âˆ…                                              	\
        ;                     	|â €â €â €â €â €â €â¦…char_rawâ €-â €â€â¦†â €char_raw*?â €â €â €â €â €â €           	\
        ;                     	|â €â€œâ €â €â €â €â¦…char_rawâ €-â €â€â¦†â €char_raw*?â €â €â €â €â €â €           	\
        char_raw="";          	 ucharâ €-â €â¤â €-â €charğŸ›‘                               	\
      string_raw_bodyâ˜°line="";	â¦…ucharâ €â €â €â €â €-â €charğŸ›‘â¦†*?


Numbers    	\
number=""; 	keyword_numberâ €|â €hexâ €|â €octalâ €|â €binaryâ €|â €decimal	\
\          	                                               	//
decimal="";	      Â±?â €integerâ €â¦….â €integerâ¦†?â €â„¯?               	\
â„¯="";      	ã€”eEâ €ã€•â €Â±?â €integer                               	\
integer="";	          digitâ €â €â¦…_|digitâ €â €â¦†*                  	\
digit="";  	ã€”0-9ã€•                                          	\
Â±="";      	ã€”+â €-ã€•                                          	\
\
hex="";   	      Â±?â €0xâ €hex_digitâ €â¦…_|hex_digitâ¦†*	\
octal=""; 	      Â±?â €0oâ €ã€”0-7ã€•â €â €â €â €â €ã€”0-7_ã€•*       	\
binary="";	      Â±?â €0bâ €ã€”0â €1ã€•â €â €â €â €â €ã€”0â €1_ã€•*

"Keywords and booleans"	                      	\
keyword="";            	boolean|#nullâ €â €â €â €â €â €â €â €â €	\
keyword_number="";     	#infâ €â €â €|#-infâ €|â €#nan  	\
boolean="";            	#trueâ €â €|#false

"Specific code points"	                                          	\
bom=""                	 "\u{FEFF}"                               	\
charğŸ›‘=""              	"Table Disallowed Literal Code Points"    	\
uchar=""              	"Any unicode Scalar Value (no surrogates)"	\
uâ =""                 	"Non line-breaking unicode White_Space"

Comments               	                                                            	\
single_line_comment=""\	 // Â¬â¤* â¦…â¤|eofâ¦†                                             	\
multi_line_comment=""; 	 /* commented_block                                         	\
commented_block=""     	 */ |â €â¦…multi_line_commentâ €|â €*â €|â €â„â €|â €ã€”Â¬*â„ã€•+â¦†â €â €commented_block	\
â„-="";                 	 /- lineâ *

Whitespace\
ws="";     	  uâ â €|â €multi_line_comment            	\
escline="";	â§µâ €ws*â €â¦…single_line_commentâ €|â €â¤â €|â €eofâ¦†	\
â¤=""       	"Line-breaking unicode White_Space)"\
"Whitespace where â¤s are allowed"\
lineâ ="";	nodeâ |â¤|single_line_comment\
"Whitespace within nodes, where newline-ish things must be esclined"\
nodeâ ="";	ws*â €esclineâ €ws*â €|â €ws+

"Version marker"\
version="";	/-â €uâ *â €kdl-versionâ €uâ +â €â¦…1|2â¦†â €uâ *â €â¤

//github.com/kdl-org/kdl/blob/main/SPEC.md
Language "A combination of ABNF with some regex spice thrown in" {
  - "Some symbols are represented with unicode alternatives to avoid the need to quote"
    /* \â§µ  /â„  ;ï¼›  *âˆ—  "â€œ or "â€   {â¨ }â¬   newline=â¤   'empty'=âˆ… */
  - r#" ; " \  serve as regular KDL syntax, so do
     /* /- */ //  except for except for Comments definition, where they instead are used for definition
    "#
  - r#"Double quotes " are used to denote literal text
    \ within a literal string is used for escaping: \" or \\, and initiating uchar chars in hex \u{FEFF}
    "#
  Regex                                                           	\
    *="zero or more (greedy, match as many instances as possible)"	\
    +="one  or more (greedy)"                                     	\
    ?="zero or one"                                               	\
    *?="zero or more (non-greedy, match as few instances as possible; used only in raw strings)"
    r#"set+â "# or="ã€”set-â ã€•" or=r#"set+â "# Â¬â§µâ€œ=r#" ã€”^\"ã€• "#  "Are used as regex-style character set matches like [], where any character between the brackets will be a single match, but no escapes are needed. They also support character ranges 0-9, and negation Â¬ or ^ , ã€”ã€• can contain whitespace for alignment which is ignored for matching"
    â¦…groupâ¦† "used to group matches that must be matched together"
    a|b "means `a or b`, whichever matches first. Multiple items before `|` are a single group" "a b c | d"="(a b c) | d"
  - r#"`-` is used for "except for" or "minus" whatever follows it. For example, `a - 'x'` means "any `a`, except something that matches the literal `'x'`"."#
  ^ or="Â¬" "prefix 'does not match' whatever follows it: ^foo = must not match `foo`"
  Â¶ "is a cut point. It always matches and consumes no characters, but once matched, the parser is not allowed to backtrack past that point in the source. If a parser would rewind past the cut point, it must instead fail the overall parse, as if it had run out of options. (only for `raw-string` to ensure the 1st instance of the appropriate closing quote sequence ends it)"
  - r#"A single definition may be split over multiple lines. Newlines are treated as spaces"#
}
